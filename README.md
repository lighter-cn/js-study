# JavaScript

## 参考

JavaSrcipt Primer

# 基本文法

## JavaScript とは

### 大文字と小文字を区別する

### 予約語を持つ

予約語 :
開発者がつける識別名として利用できない文字列

### 文はセミコロンで区切る

### strict mode

"use strict"とファイルまたは関数の先頭に書くことで、利用できる
古く安全でない構文や機能が一部禁止されている
Module の実行コンテキストでは strict mode がデフォルト

### 実行コンテキスト : Script と Module

JavaSrcipt の実行コンテキストとして Script と module がある
Script の実行コンテキストでは strict mode はデフォルトではない

## コメント

一行コメント // ...
複数行コメント /＊ ... ＊/

## 変数と宣言

### const

再代入できない変数の宣言とその変数が参照する値を定義できる

const 変数名 = 初期値;

また、const は再代入できない変数を宣言するため、あとから代入することができない

### let

値の再代入可能な変数の宣言

const と異なり初期値を指定せずに定義できる

初期値を指定されない場合、デフォルト値として undefined で初期化される

### var

値の再代入可能な変数を宣言できる

### var の問題点

1. let や const と異なり、同じ名前の変数を再定義できてしまう
2. 変数の巻き上げが発生する

### 変数名に使える名前

1. 半角英数、\_、\$の組み合わせ
2. 数字を変数名の先頭に利用できない
3. 予約語とかぶる名前は利用できない

### const は定数ではない

const はプリミティブな値で初期化した場合、実質的に定数となるが、
プリミティブな値以外は初期化した後も変更できる

## 値の評価と表示

値の評価 :
入力した値を評価してその結果を返すこと
ex) - 1 + 1 の式を評価すると、2 と言う結果を返す - bookTitle という変数を評価すると、変数に代入された値を返す - const x = 1;と言う文を評価することで変数を定義するが、この文に返り値はない

## データ型とリテラル

データ型 :
JavaScript は動的型付け言語であるため、変数の型はないが、
文字列、数値、真偽値といった値の型が存在し、それらの値の型をデータ型と呼ぶ
データ型はプリミティブ型とオブジェクトの二つに大きく分けられる

プリミティブ型 :
真偽値や数値などの基本的な値の型
一度作成したらその値自体を変更できない immutable(不変)の特性を持つ

オブジェクト(複合型) :
複数のプリミティブ型の値、またはオブジェクトからなる集合
一度作成した後もその値自体を変更できる mutable の特性を持つ
また、値そのものではなく、値への山椒を経由して操作されるため参照型のデータとも言える

- プリミティブ型
  - 真偽値(Boolean)
  - 数値(Number)
  - 巨大な整数(Bigint)
  - 文字列(String)
  - undefined
  - null
  - Synbol
- オブジェクト
  - プリミティブ型以外のデータ
  - オブジェクト、配列、関数、正規表現、Date など

typeof 演算子を使うことで、データ型を調べることができる
typeof 演算子ではプリミティブ型またはオブジェクトかを判別するものであって
オブジェクトの詳細は何定できない
null の type が object となるのは歴史的経緯のある仕様バグ

### リテラル

リテラル :
プログラム上で数値や文字列など、データ型の値を直接記述できる構文として定義されたもの

### 真偽値

true / false のリテラルがあり、それぞれ true と false の値を返す

### 数値

- 整数リテラル
  - 10 進数 : 数字の組み合わせ
  - 2 進数 : 0b の後ろに 0/1 の組み合わせ
  - 8 進数 : 0o の後ろに 0-7 の数字の組み合わせ、または 0 から始まる数値
  - 16 進数 : 0x の後ろに 0-9 と a-f までのアルファベットの組み合わせ
- 浮動小数点リテラル
  - 3.14 のような.を含んだ数値(0 から始まる少数は 0 を省略できる)
  - 2e8 のような指数表現
- Bigint リテラル
  - 数値の後ろに n をつける (ex)
  - Bigint は整数を扱うので、小数点を含めると構文エラーになる

Numeric Separators(ES2021) :
数値リテラルの区切り文字として\_を利用できる
リテラルの先頭や数値の最後に追加することはできない

### 文字列

ダブルクォートとシングルクォート :
js では全く同じ意味
"や'を使いたい時は\でエスケープできる

テンプレートリテラル :
バッククォートで囲んだ範囲を文字列とするリテラル
複数行の文字列をエスケープシーケンスなしに書くことができる
テンプレートリテラル内で\${変数名}と書いて変数の値を埋め込むこともできる

### null リテラル

null 値を返すリテラル
null は値がないことを表現したい時に null 値を代入することで変数を定義し、参照できるようになる

### undefined はリテラルではない

undefined はグローバル変数で、undefined と言う値を持っているだけ
そのためローカル変数に undefined を宣言することもできる(する意味はないが)

これに対し true/false/null などはリテラルであるため同じ名前の変数を定義できない

### オブジェクトリテラル

{}を書くことで新しいオブジェクトを作成する
オブジェクトは作成と同時に中身を定義できる
オブジェクトのキーと値を:で区切ったものを{}の中に書くことで作成と同時に初期化される
key には文字列または Synbol を指定し、値にはプリミティブ型の値からオブジェクトまでなんでも入れられる

プロパティ名 :
オブジェクトが持つキーの名前

オブジェクトが持つキーを参照するには.で繋いで参照する方法とブラケットで参照する方法がある
ドット記法ではプロパティ名が変数と同じく識別子である必要があるため、
識別子として利用できないプロパティ名(数字の文字列など)を参照する場合はブラケット記法を利用する

### 配列リテラル

[]で値をカンマ区切りで囲みその値を持つ Array オブジェクトを作成する
js における配列とは複数の値に順序をつけて格納できるオブジェクトの一種
配列は 0 から始まる index に、対応した値を保持している
配列の要素を取得するには、配列に対して array[index]という構文で指定した index の値を参照できる

### 正規表現リテラル

js は正規表現パターンを/ではさみ、正規表現リテラルとして書くことができる

### プリミティブ型とオブジェクト

ラッパーオブジェクト:
プリミティブ型の値をラップしたようなオブジェクト
new 演算子と対応するコンストラクタ関数を使用してプリミティブ型のラッパーオブジェクトを作成できる

プリミティブ型のデータでも暗黙的な型変換が行われ、プロパティやメソッドを参照できるようになる
